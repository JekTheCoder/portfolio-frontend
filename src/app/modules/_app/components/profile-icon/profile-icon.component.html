<ng-container *ngLet="profile$ | async as profile">
  <div class="profile" >
    <div
      class="mouse-trigger"
      (mouseenter)="overIcon = true"
      (mouseleave)="overIcon = false"
    ></div>
    <div class="icon-container">
      <profile-icon [image]="profile?.profileImg"></profile-icon>
    </div>
  </div>
  
  <div
    class="profile-panel"
    [@profileMenu]="overIcon || overPanel ? 'display' : 'hidden'"
    (mouseleave)="overPanel = false"
    (mouseenter)="overPanel = true"
  >
    <ul>
      <ng-container *ngIf="profile; else notLogged">
        <li><button (click)="logout()" class="a-like">Loggout</button></li>
      </ng-container>
      <ng-template #notLogged>
        <li><a routerLink="/auth/login">Login</a></li>
        <li><a routerLink="/auth/register">Register</a></li>
        <li><button (click)="toGithub(false)" class="a-like">Login with github</button></li>
        <li><button (click)="toGithub(true)" class="a-like">Register with github</button></li>
      </ng-template>
    </ul>
  </div>
</ng-container>

