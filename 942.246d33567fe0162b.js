"use strict";(self.webpackChunkportfolio_frontend=self.webpackChunkportfolio_frontend||[]).push([[942],{4942:(H,I,c)=>{c.r(I),c.d(I,{BlogModule:()=>x});var i=c(8470),y=c(4549),P=c(4132),p=c(2406),M=c(5095),O=c(8980),h=c(9148),T=c(4757),b=c(528),_=c(5847),A=c(2468),N=c(2821),Z=c(106),t=c(4641);class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#n=this.\u0275mod=t.oAB({type:r});static#e=this.\u0275inj=t.cJS({})}var U=c(9343);class l{constructor(e){this.http=e,this.blogUrl=Z.N.API_URI+"/blogs/"}getBlog(e){return this.http.get(this.blogUrl+e)}static#t=this.\u0275fac=function(n){return new(n||l)(t.LFG(U.eN))};static#n=this.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:r})}var w=c(4570),J=c(7497),F=c(1200);const $=Z.N.API_URI+"/comments/";class g{constructor(e){this.http=e}createComment(e,n){return this.http.post($+n,e)}static#t=this.\u0275fac=function(n){return new(n||g)(t.LFG(F.c))};static#n=this.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:r})}function B(s,e){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&s){const n=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,n.comment.content,n.commentPreviewLen))}}class d{constructor(){this.commentPreviewLen=100,this.expanded=!1}ngOnInit(){}toggleExpanded(){this.expanded=!this.expanded}static#t=this.\u0275fac=function(n){return new(n||d)};static#n=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-comment"]],inputs:{comment:"comment"},decls:10,vars:10,consts:[[1,"profile-icon"],[3,"image"],[1,"comment"],[4,"ngIf"],[1,"show-more",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"article")(1,"div",0),t._UZ(2,"profile-icon",1),t.qZA(),t.TgZ(3,"div",2)(4,"span"),t._uU(5),t.ALo(6,"slice"),t.qZA(),t.YNc(7,B,3,4,"span",3),t.TgZ(8,"p",4),t.NdJ("click",function(){return o.toggleExpanded()}),t._uU(9),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("image",o.comment.user.profileImg),t.xp6(3),t.Oqu(t.Dn7(6,6,o.comment.content,0,o.commentPreviewLen)),t.xp6(2),t.Q6J("ngIf",o.expanded),t.xp6(1),t.Udp("display",o.comment.content.length>o.commentPreviewLen?"":"none"),t.xp6(1),t.hij(" ",o.expanded?"show less":"show more"," "))},dependencies:[i.O5,O.G,i.OU],styles:["article[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px 1fr;gap:10px}.show-more[_ngcontent-%COMP%]{color:#7a7a7a;-webkit-user-select:none;user-select:none}span[_ngcontent-%COMP%]{word-break:break-all}.comment[_ngcontent-%COMP%]{padding:2px}"]})}var L=c(9275),Q=c(8520);function Y(s,e){if(1&s){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"profile-icon",3),t.qZA(),t.TgZ(3,"div",4)(4,"mat-form-field")(5,"mat-label"),t._uU(6,"Add a comment"),t.qZA(),t.TgZ(7,"input",5),t.NdJ("keydown.enter",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.emitComment())}),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.emitComment())}),t._uU(10,"Send"),t.qZA()()()()}if(2&s){const n=e.ngLet,o=t.oxw();t.xp6(2),t.Q6J("image",null==n?null:n.profileImg),t.xp6(5),t.Q6J("formControl",o.commentForm)}}class f{constructor(e){this.profile=e,this.commentChanges=new t.vpe,this.commentForm=new p.NI(""),this.profile$=e.getProfile()}emitComment(){const e=this.commentForm.value;!e||(this.commentChanges.emit(e),this.commentForm.reset())}static#t=this.\u0275fac=function(n){return new(n||f)(t.Y36(L.H))};static#n=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-comment-create"]],outputs:{commentChanges:"commentChanges"},decls:2,vars:3,consts:[["class","create-comment",4,"ngLet"],[1,"create-comment"],[1,"profile"],[3,"image"],[1,""],["type","text","matInput","","name","comment",3,"formControl","keydown.enter"],[1,"buttons"],["mat-button","",3,"click"]],template:function(n,o){1&n&&(t.YNc(0,Y,11,2,"div",0),t.ALo(1,"async")),2&n&&t.Q6J("ngLet",t.lcZ(1,1,o.profile$))},dependencies:[O.G,y.KE,y.hX,P.Nt,M.lW,p.Fj,p.JJ,p.oH,Q.h,i.Ov],styles:[".create-comment[_ngcontent-%COMP%]{display:grid;grid-template-columns:40px 1fr;gap:20px}.create-comment[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{padding-top:10px}.create-comment[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.create-comment[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}function S(s,e){1&s&&t._UZ(0,"app-comment",5),2&s&&t.Q6J("comment",e.$implicit)}class u{constructor(e){this.commentsService=e,this.comments=[],this.unsuscriber$=new w.x}set commentsSetter(e){this.comments$=e,this.overrideComments()}ngOnDestroy(){}overrideComments(){this.comments$.subscribe(e=>this.comments=e)}postComment(e){this.commentsService.createComment({content:e},this.blogId).pipe((0,J.R)(this.unsuscriber$)).subscribe(n=>this.comments.unshift(n))}static#t=this.\u0275fac=function(n){return new(n||u)(t.Y36(g))};static#n=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-comments"]],inputs:{blogId:"blogId",commentsSetter:["comments$","commentsSetter"]},decls:7,vars:2,consts:[[1,"comments"],[1,"top"],[1,""],[3,"commentChanges"],[3,"comment",4,"ngFor","ngForOf"],[3,"comment"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",2)(5,"app-comment-create",3),t.NdJ("commentChanges",function(a){return o.postComment(a)}),t.qZA(),t.YNc(6,S,1,1,"app-comment",4),t.qZA()()),2&n&&(t.xp6(3),t.hij("",o.comments.length," comments"),t.xp6(3),t.Q6J("ngForOf",o.comments))},dependencies:[i.sg,d,f],styles:["section.comments[_ngcontent-%COMP%]{padding:10px}section.comments[_ngcontent-%COMP%]   app-comment[_ngcontent-%COMP%]{width:100%;display:inline-block;margin-bottom:30px}"]})}function j(s,e){if(1&s&&(t.TgZ(0,"div",5),t._UZ(1,"img",6),t.qZA()),2&s){const n=t.oxw().ngIf,o=t.oxw();t.xp6(1),t.Q6J("src",o.blogImagePath+n.thumbnail,t.LSH)("alt",n.title)}}function z(s,e){if(1&s&&t._UZ(0,"app-comments",7),2&s){const n=t.oxw().ngIf,o=t.oxw();t.Q6J("comments$",o.comments$)("blogId",n.id)}}function E(s,e){if(1&s&&(t.ynx(0),t.TgZ(1,"article",1),t.YNc(2,j,2,2,"div",2),t.TgZ(3,"h2"),t._uU(4),t.qZA(),t._UZ(5,"hr"),t.TgZ(6,"div",3)(7,"p"),t._uU(8),t.qZA()()(),t._UZ(9,"hr"),t.YNc(10,z,1,2,"app-comments",4),t.BQk()),2&s){const n=e.ngIf,o=t.oxw();t.xp6(2),t.Q6J("ngIf",n.thumbnail),t.xp6(2),t.Oqu(n.title),t.xp6(4),t.Oqu(n.content),t.xp6(2),t.Q6J("ngIf",o.comments$)}}class C{constructor(e,n,o){this.blogServ=e,this.router=o,this.blogImagePath=Z.N.API_URI+"/public/blogs/";const m=n.params.pipe((0,T.w)(a=>this.getBlog(a)),(0,b.b)(a=>this.redirectIfNull(a)),(0,_.d)());this.blog$=m,this.comments$=m.pipe((0,A.U)(a=>a.comments))}getBlog(e){const{id:n}=e,o=Number(n);return Number.isNaN(o)?(0,N.of)(null):this.blogServ.getBlog(o)}redirectIfNull(e){e||this.router.navigate(["/blog/search"])}static#t=this.\u0275fac=function(n){return new(n||C)(t.Y36(l),t.Y36(h.gz),t.Y36(h.F0))};static#n=this.\u0275cmp=t.Xpm({type:C,selectors:[["app-blog"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container"],["class","top",4,"ngIf"],[1,"article"],[3,"comments$","blogId",4,"ngIf"],[1,"top"],[3,"src","alt"],[3,"comments$","blogId"]],template:function(n,o){1&n&&(t.YNc(0,E,11,4,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,o.blog$))},dependencies:[i.O5,u,i.Ov],styles:["[_nghost-%COMP%]{height:100%;width:100%;max-width:1000px;margin:auto;padding:0 10px}.container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .article[_ngcontent-%COMP%]{padding:10px;min-height:50px}h2[_ngcontent-%COMP%]{font-size:40px}"]})}const G=[{path:"id/:id",pathMatch:"full",component:C,title:"Jeshua Hinostroza | blog"},{path:"",pathMatch:"full",redirectTo:"/blog/search"}];class v{static#t=this.\u0275fac=function(n){return new(n||v)};static#n=this.\u0275mod=t.oAB({type:v});static#e=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(G),h.Bz]})}class x{static#t=this.\u0275fac=function(n){return new(n||x)};static#n=this.\u0275mod=t.oAB({type:x});static#e=this.\u0275inj=t.cJS({imports:[i.ez,v,O.G,y.lN,P.c,M.ot,p.UX,r]})}}}]);